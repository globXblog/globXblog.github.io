<!DOCTYPE html>
<html lang="en-au">

  <head>
    <meta charset="utf-8">
<meta name="robots" content="all,follow">
<meta name="googlebot" content="index,follow,snippet,archive">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Transforming a distance matrix into a map</title>
<meta name="author" content="Ben" />




<meta name="keywords" content="animation, Australia">


<meta name="description" content="">

<meta name="generator" content="Hugo 0.122.0">


<link href='//fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,500,700,800' rel='stylesheet' type='text/css'>


<link rel="stylesheet" href="//use.fontawesome.com/releases/v5.11.2/css/all.css">
<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">


<link href="/css/animate.css" rel="stylesheet">



  <link href="/css/style.blue.css" rel="stylesheet" id="theme-stylesheet">



<link href="/css/custom.css?1745743285" rel="stylesheet">



  <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->



<link rel="shortcut icon" href="/img/favicon.ico" type="image/x-icon" />
<link rel="apple-touch-icon" href="/img/apple-touch-icon.png" />


<link href="/css/owl.carousel.css" rel="stylesheet">
<link href="/css/owl.theme.css" rel="stylesheet">


<link rel="alternate" href="https://globxblog.github.io/index.xml" type="application/rss+xml" title="globXblog">







<meta property="og:updated_time" content="2020-09-19T00:00:00Z">

  
  
  <meta property="article:section" content="exploring data">
  <meta property="article:tag" content="animation">
  <meta property="article:tag" content="Australia">
  
  
  <meta property="article:published_time" content="2020-09-19T00:00:00Z">
  <meta property="article:modified_time" content="2020-09-19T00:00:00Z">



<meta name="twitter:card" content="summary">

<meta name="twitter:title" content="Transforming a distance matrix into a map">

<meta name="twitter:description" content="">


    
  </head>

  <body>

    <div id="all">

        


        <header class="navbar-affixed-top" data-spy="affix" data-offset-top="62">
    <div class="navbar navbar-default yamm " role="navigation" id="navbar">
        <div class="container">
            <div class="navbar-header">
                <a class="navbar-brand home" href="/">
                    
                      <img src="/img/logoWithText.png" alt="Transforming a distance matrix into a map logo" class="hidden-xs hidden-sm" />
                      <img src="/img/logo.png" alt="Transforming a distance matrix into a map logo" class="visible-xs visible-sm" />
                    
                    <span class="sr-only">Transforming a distance matrix into a map - go to homepage</span>
                </a>
                <div class="navbar-buttons">
                    <button type="button" class="navbar-toggle btn-template-main" data-toggle="collapse" data-target="#navigation">
                      <span class="sr-only">Toggle Navigation</span>
                        <i class="fas fa-align-justify"></i>
                    </button>
                </div>
            </div>
            

            <div class="navbar-collapse collapse" id="navigation">
                <ul class="nav navbar-nav navbar-right">
                  

                  
                  
                  

                  

                  

                  

                  
                  <li class="dropdown ">
                    <a href="/">Home</a>
                  </li>
                  
                  
                  
                  

                  

                  
                    
                  

                  

                  
                  <li class="dropdown active">
                    <a href="/blog/">Blog</a>
                  </li>
                  
                  
                  
                  

                  

                  

                  

                  
                  <li class="dropdown ">
                    <a href="/hegs/">HEGS project</a>
                  </li>
                  
                  
                  
                  

                  

                  

                  

                  
                  <li class="dropdown ">
                    <a href="https://github.com/globXblog/scripts">Codes and data</a>
                  </li>
                  
                  
                  
                  

                  

                  

                  

                  
                  <li class="dropdown ">
                    <a href="/about/">About</a>
                  </li>
                  
                  
                  
                  

                  

                  

                  

                  
                  <li class="dropdown ">
                    <a href="/index.xml">rss</a>
                  </li>
                  
                  
                </ul>
            </div>
            

            <div class="collapse clearfix" id="search">
                <form class="navbar-form" role="search">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search">
                        <span class="input-group-btn">
                    <button type="submit" class="btn btn-template-main"><i class="fas fa-search"></i></button>
                </span>
                    </div>
                </form>
            </div>
            
        </div>
    </div>
</header>




        <div id="heading-breadcrumbs">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h1>Transforming a distance matrix into a map</h1>
            </div>
        </div>
    </div>
</div>


        <div id="content">
            <div class="container">

                <div class="row">

                    

                    <div class="col-md-9" id="blog-post">

                        
                          <p class="text-muted text-uppercase mb-small text-right">
                            
                             | 
                            
                              
                              
                                  
                              
                                  
                              
                                  
                              
                                  
                              
                                  
                              
                                  
                              
                                  
                              
                                  
                              
                                  
                              
                                  
                              
                                  
                              
                                  
                              
                              19 September 2020
                            
                          </p>
                        

                        <div id="post-content">
                          

<div id="TOC">

</div>

<p>The map in the figure below shows the location of <a href="http://www.bom.gov.au/water/hrs/">195 hydrologic stations</a>, which can be used to explore the <a href="/blog/australian-river-cruises/">hydrologic regimes of Australian rivers</a>. The hydrologic regime is characterized by the flow seasonality, as shown for three particular stations on the left hand side of the figure. Stations 2 and 3 for example are quite similar in terms of hydrologic regime, despite being very far away geographically speaking.</p>
<p>
</p>
<p><img src="/img/StaticHydrologicRegimes_withAllPoints.png" /></p>
<p>
</p>
<p>The hydrologic similarity between any pair of stations can be quantified by defining a hydrologic distance (typically, the <a href="https://en.wikipedia.org/wiki/Euclidean_distance#n_dimensions">Euclidean distance</a> between the 12 monthly values at each station). It is therefore possible to describe this dataset using either a geographic or a hydrologic distance. But is it possible to derive from the latter a hydrologic map, in addition to the geographic one?</p>
<div id="creating-a-map-from-distances-mission-impossible" class="section level1">
<h1>Creating a map from distances: mission impossible?</h1>
<p>Geographic distances can be computed from the geographic map, but creating the hydrologic map requires performing the opposite operation: given the hydrologic distance computed between all possible pairs of stations, how to draw the corresponding map?</p>
<p>Unfortunately, this problem has no exact solution. The key issue is that the hydrologic distance is computed in a 12-dimensional world (the 12 months), and we’re trying to project these distances in a lower 2-dimensional world (the computer screen). As an illustration, consider the points A, B and C below represented in a 2-D world. The distance between any pair of points is identical. Now let’s try to represent these 3 points in a 1-dimensional world (a line). It’s easy to start with A and B, but where to put C? There is no solution that would respect the original 2-D distances in this 1-D world.</p>
<p>
</p>
<p><img src="/img/2Dto1D_1.png" /></p>
<p>
</p>
</div>
<div id="creating-an-approximate-map-from-distances" class="section level1">
<h1>Creating an approximate map from distances</h1>
<p>Consider now the figure below, where point C has been replaced by a cluster of red points. The 1-D projection in the middle is arguably better than the one on the right in the sense that A and B are at the same distance from the red cluster, as in the original 2-D configuration. In other words, it is not possible to respect all original 2-D distances between points, but it is possible to generate an approximate 1-D map that respects the overall geometry of the dataset, keeping close points together and representing longer distances with as much fidelity as possible.</p>
<p>
</p>
<p><img src="/img/2Dto1D_2.png" /></p>
<p>
</p>
<p>In practice there exist several algorithms for this purpose, and there is no unique “best” solution. We are going to try two of them here: <a href="https://en.wikipedia.org/wiki/Isomap">Isomap</a> and <a href="https://en.wikipedia.org/wiki/T-distributed_stochastic_neighbor_embedding">t-SNE</a>.</p>
</div>
<div id="mapping-hydrostralia" class="section level1">
<h1>Mapping Hydrostralia</h1>
<p>In the figure below, the map on the left shows the geographical location of the stations, with the color representing the latitude. The map reconstructed from hydrologic distances by the t-SNE algorithm is shown in the middle, and the one resulting from the Isomap algorithm is on the right. However, using the term ‘map’ is a bit of an exaggeration here – the figures just show the location of the stations, but where is the land?</p>
<p>
</p>
<p><img src="/img/OzMorph_withoutPolygons.png" /></p>
<p>
</p>
<p>Land can be added straightforwardly to the geographic map, but for the hydrologic maps the shape ‘suggested’ by the points needs to be drawn. Such a shape is known as a <a href="https://en.wikipedia.org/wiki/Alpha_shape">concave hull or a alpha-shape</a>, and there exist algorithms to draw them automatically. In addition, a region associated with each station can be represented using a <a href="https://en.wikipedia.org/wiki/Voronoi_diagram">Voronoi diagram</a>.</p>
<p>
</p>
<p><img src="/img/OzMorph_withPolygons.png" /></p>
<p>
</p>
<p>t-SNE Hydrostralia is composed of two islands: the smaller one comprises stations from tropical Northern Australia (where high flows occur during summer) and the larger one comprises stations from temperate Southern Australia (where high flows occur during winter). With a bit of imagination, it looks like New Zealand!</p>
<p>The map reconstructed with the Isomap algorithm looks quite different: it suggests a smooth transition between northern and southern stations, rather than a clear-cut two-island-like separation. However, both t-SNE and Isomap algorithms indicate that hydrologic regimes in Australia are strongly structured by latitude.</p>
<p>The figure above does not allow comparing the location of individual stations on the three maps because stations are only identified by color. This can be remedied by means of an animation that enables tracking the trajectory of any particular station as it moves between Australia, t-SNE Hydrostralia and Isomap Hydrostralia.</p>
<p>
</p>
<p><img src="/img/OzMorph.gif" /></p>
<p>
</p>
<hr />
<p><strong>Author</strong>: Ben</p>
<p><strong>Codes and data</strong>: browse on <a href="https://github.com/globXblog/scripts/tree/main/src/transforming-a-distance-matrix-into-a-map">GitHub</a></p>
<hr />
</div>

                        </div>
                        
                        

                    </div>
                    

                    

                    

                    <div class="col-md-3">

                        

                        

<div class="panel panel-default sidebar-menu">

    <div class="panel-heading">
      <h3 class="panel-title">Search</h3>
    </div>

    <div class="panel-body">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" role="search">
            <div class="input-group">
                <input type="search" name="q" class="form-control" placeholder="Search">
                <input type="hidden" name="sitesearch" value="https://globxblog.github.io/">
                <span class="input-group-btn">
                    <button type="submit" class="btn btn-template-main"><i class="fas fa-search"></i></button>
                </span>
            </div>
        </form>
    </div>
</div>







<div class="panel panel-default sidebar-menu">

    <div class="panel-heading">
        <h3 class="panel-title">Categories</h3>
    </div>

    <div class="panel-body">
        <ul class="nav nav-pills nav-stacked">
            
            
            <li>
                <a href="/categories/exploring-data">EXPLORING-DATA (13)</a>
            </li>
            
            <li>
                <a href="/categories/hydrology-basics">HYDROLOGY-BASICS (2)</a>
            </li>
            
            <li>
                <a href="/categories/just-fun">JUST-FUN (4)</a>
            </li>
            
            <li>
                <a href="/categories/techniques">TECHNIQUES (3)</a>
            </li>
            
        </ul>
    </div>

</div>








<div class="panel sidebar-menu">

    <div class="panel-heading">
        <h3 class="panel-title">Tags</h3>
    </div>

    <div class="panel-body">
        <ul class="tag-cloud">
            
            
            <li >
                <a href="/tags/animation"><i class="fas fa-tags"></i> animation</a>
            </li>
            
            <li >
                <a href="/tags/australia"><i class="fas fa-tags"></i> australia</a>
            </li>
            
            <li >
                <a href="/tags/clustering"><i class="fas fa-tags"></i> clustering</a>
            </li>
            
            <li >
                <a href="/tags/droughts"><i class="fas fa-tags"></i> droughts</a>
            </li>
            
            <li >
                <a href="/tags/floods"><i class="fas fa-tags"></i> floods</a>
            </li>
            
            <li >
                <a href="/tags/france"><i class="fas fa-tags"></i> france</a>
            </li>
            
            <li >
                <a href="/tags/heavy-precipitation"><i class="fas fa-tags"></i> heavy-precipitation</a>
            </li>
            
            <li >
                <a href="/tags/interactive"><i class="fas fa-tags"></i> interactive</a>
            </li>
            
            <li >
                <a href="/tags/sequencing"><i class="fas fa-tags"></i> sequencing</a>
            </li>
            
            <li >
                <a href="/tags/sonification"><i class="fas fa-tags"></i> sonification</a>
            </li>
            
            <li >
                <a href="/tags/statistics"><i class="fas fa-tags"></i> statistics</a>
            </li>
            
        </ul>
    </div>

</div>






                        

                    </div>
                    

                    

                </div>
                

            </div>
            
        </div>
        

        <footer id="footer">
  <div class="container">
    
    <div class="col-xs-4 left">
        <p> This project has received funding from the European Union’s Horizon 2020 research and innovation programme under the Marie Sklodowska-Curie grant agreement No <a href="https://cordis.europa.eu/project/id/835496">835496</a> </p>
    </div>
  
    <div class="col-xs-8 right">
      <p>  <a href="https://ec.europa.eu/info/index_en"><img src="/img/EUflag.jpg" alt="EU Flag" height="100"> </a>
      <a href="https://www.inrae.fr/en"><img src="/img/logoINRAE.png" alt="INRAE" height="100"> </a> <a href="https://www.adelaide.edu.au"><img src="/img/logoUoA.png" alt="UoA" height="100"> </a> </p>    </div>
  </div>
    
</footer>


    </div>
    

    
<script src="//code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/waypoints/4.0.1/jquery.waypoints.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/Counter-Up/1.0/jquery.counterup.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-parallax/1.1.3/jquery-parallax.js"></script>


<script src="/js/front.js"></script>


<script src="/js/owl.carousel.min.js"></script>



  </body>
</html>
